<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<style type="text/css">
body {
	font-family: "Tahoma";
}

button {
	border: 1px solid #cccccc;
}

li {
	padding: 3px;
}

.actions {
	position: absolute;
	left: 380px;
}

.template {
	width: 550px;
	float: left;
}

.priceWrapper {
	position: absolute;
	left: 730;
	width: 100px;
	text-align: right;
}

.template .priceWrapper {
	left: 270;
}

.disabled {
	color: #bbbbbb;
}
</style>
</head>
<body>
	<script type="text/javascript" src="/lib/js/purest.js"></script>
	<script type="text/javascript" src="/lib/js/underscore.js"></script>
	<script type="text/javascript" src="/lib/js/jquery-1.8.3.js"></script>
	<script type="text/javascript" src="/lib/js/jats.js"></script>
	<script type="text/javascript" src="/js/demo.js"></script>


	<div class="template">
		Product label: <span id="label">Product label</span>
		<ul>
			<li><span class="variantLabel">Variant label</span> <span
				class="priceWrapper"><span class="price">xx,xx</span></span><span
				class="actions">
					<button data-id="" data-q="1" class="js_add">+</button>
					<button data-id="" data-q="-1" class="js_add">-</button>
			</span>
				<ul id="required">
					<li><span>Required components</span>
						<ul>
							<li><span>RequiredComponent</span></li>
						</ul></li>
				</ul>

				<ul id="optional">
					<li><span>Optional components</span>
						<ul>
							<li><span>OptionalComponent</span><span class="priceWrapper"><span
									class="price">xx,xx</span></span> <span class="actions">
									<button data-id="" data-q="1" class="js_add">+</button>
									<button data-id="" data-q="-1" class="js_add">-</button>
							</span></li>
						</ul></li>
				</ul>

				<ul id="modifiers">
					<li><span class="modifierLabel">Modifier</span>
						<ul>
							<li><span class="modifierEntry">ModifierEntry</span> <span
								class="priceWrapper"><span class="price">xx,xx</span></span><span
								class="actions">
									<button data-id="" data-q="1" class="js_add">+</button>
									<button data-id="" data-q="-1" class="js_add">-</button>
							</span></li>
						</ul></li>
				</ul></li>
		</ul>
	</div>

	<div class="ctemplate">
		<div>
			<span id="cquantity">0</span>x <span id="clabel">Label</span> <span
				class="priceWrapper"><span id="pprice">xx,xx</span></span>
		</div>
		<ul id="subcomponents">
			<li><span class="quantity">0</span>x <span class="label">Label</span>
				<span class="priceWrapper"><span class="price">xx,xx</span></span></li>
		</ul>
		<div>
			<b>Gesamt:</b> <span class="priceWrapper"><span id="cprice">xx,xx</span></span>
		</div>
	</div>


	<script type="text/javascript">
		ProductDetailController.init();
		$(document)
				.on(
						"click",
						".js_add:not(.disabled)",
						function(e) {
							var id = $(e.target).data("id");
							var q = $(e.target).data("q");
							var newq = ProductDetailController.compositionManager.compositionConfigurator
									.addComponent(
											ProductDetailController.composition,
											CacheManager.getObject(id), q);
							ProductDetailController.reRender();
						});
	</script>

</body>
</html>
